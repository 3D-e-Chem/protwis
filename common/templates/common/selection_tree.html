{% if ppf %}
<div id="{{ ppf.id }}">
    {% for i in parent_tree_indent_level %}
            &nbsp;
        {% endfor %}
    <a href="javascript:void(0)"
    onclick="ToggleFamilyTreeNode('{{ action }}', '{{ type_of_selection }}', '{{ ppf.id }}', {{ parent_tree_indent_level|length }})">
        {% if action == 'expand' %}
            <span class="glyphicon glyphicon-plus"></span>
        {% elif action == 'collapse' %}
            <span class="glyphicon glyphicon-minus"></span>
        {% endif %}
    </a>
    {% if type_of_selection == 'targets' %}
    <a href="javascript:void(0)" onclick="AddToSelection('{{ type_of_selection }}', 'family', '{{ ppf.id }}')">
    {% endif %}
        {{ ppf.name|safe }}
    {% if type_of_selection == 'targets' %}
    </a>
    {% endif %}
    <br />
</div>
{% endif %}
{% for pf in pfs %}
<div id="{{ pf.id }}">
    {% for i in tree_indent_level %}
        &nbsp;
    {% endfor %}
    <a href="javascript:void(0)"
    onclick="ToggleFamilyTreeNode('expand', '{{ type_of_selection }}', '{{ pf.id }}', {{ tree_indent_level|length }})">
        <span class="glyphicon glyphicon-plus"></span>
    </a>
    {% if type_of_selection == 'targets' %}
    <a href="javascript:void(0)" onclick="AddToSelection('{{ type_of_selection }}', 'family', '{{ pf.id }}')">
    {% endif %}
        {{ pf.name|safe }}
    {% if type_of_selection == 'targets' %}
    </a>
    {% endif %}
    <br />
</div>
{% endfor %}

{% for p in ps %}
    {% for i in tree_indent_level %}
        &nbsp;
    {% endfor %}
<span class="glyphicon glyphicon-arrow-right"></span>
<a href="javascript:void(0)" onclick="AddToSelection('{{ type_of_selection }}', 'protein', '{{ p.id }}')">
    {{ p.name|safe }}
</a><br />
<div id="{{ p.id }}"></div>
{% endfor %}