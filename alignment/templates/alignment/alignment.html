{% extends "home/base.html" %}
{% load staticfiles %}

{% block addon_css %}
<link href="{% static 'home/css/alignment.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- sequence alignment starts -->
<table>
    <tr>
        <td>
            <!-- static column -->
            <table>
                <tr>
                    <td class="ali-td ali-td-first-col"></td>
                </tr>
                <tr>
                    <td class="ali-td ali-td-first-col">Class A</td>
                </tr>
                {% for p in a.proteins %}
                <tr>
                    <td class="ali-td ali-td-first-col">
                        <a href='#'>{{ p.name|safe }}</a>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </td>
         <td>
            <!-- scrollable column -->
            <table>

                <!-- segment title line -->
                <tr>
                    {% for s, num in a.segments.items %}
                    <td class="ali-td ali-residue" colspan="{{ num|length }}">{{ s }}</td>
                    <td class="ali-td">&nbsp;</td>
                    {% endfor %}
                </tr>
                
                <!-- generic number lines -->
                <tr>
                   {% for s, num in a.segments.items %}
                        {% for n in num %}
                        <td class="ali-td ali-residue">{{ n }}</td>
                        {% endfor %}
                        <td class="ali-td">&nbsp;</td>
                    {% endfor %}
                </tr>
                
                <!-- sequence lines -->
                {% for r in a.matrix %}
                <tr>
                    {% for s in r %}
                        {% for res in s %}
                        <td class="ali-td ali-residue">{{ res }}</td>
                        {% endfor %}
                        <td class="ali-td">&nbsp;</td>
                    {% endfor %}
                </tr>
                {% endfor %}

            </table>

        </td>
    </tr>
</table>
<!-- sequence alignment ends -->
{% endblock %}